<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Results</title>
    <script>

        function sort_object(obj) {
            items = Object.keys(obj).map(function (key) {
                return [key, obj[key]];
            });
            items.sort(function (first, second) {
                return second[1] - first[1];
            });
            sorted_obj = {}
            items.forEach(function (v) {
                use_key = v[0]
                use_value = v[1]
                sorted_obj[use_key] = use_value
            })
            return sorted_obj
        }

        let final_results = {{ results | tojson }};
        final_results = sort_object(final_results)
        window.onload = function () {
            Object.keys(final_results).forEach(key => document.getElementById("results").innerHTML +=
                `<li>${key} ${final_results[key]}</li><br>`)
        }


    </script>
</head>
<body>
<h2>You are: {{ alias }}</h2>
<h3>Results</h3>
<h4>Thanks for participating in Quill and Dagger!</h4>
<ol id="results">

</ol>
</body>
</html>